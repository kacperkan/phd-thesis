
\renewcommand{\imagewidth}{3.3cm}
\renewcommand{\imageheight}{4.0263671874999996cm}
\renewcommand{\smallimagewidth}{0.8cm}
\renewcommand{\expressionsep}{0em}

\newcommand{\firstindex}{0189}
\newcommand{\secondindex}{0091}
\newcommand{\thirdindex}{0505}
\newcommand{\fourthindex}{0852}

\newcommand{\supimageoneindex}[2]{
  \includegraphics[width=\imagewidth, trim={0 0 0 0}, clip]{assets/\blendfieldsdirname/supplementary/expressions/#1_2183941_selected_rom_#2_\firstindex.png}
}
\newcommand{\supimagetwoindex}[2]{
  \includegraphics[width=\imagewidth, trim={0 0 0 0}, clip]{assets/\blendfieldsdirname/supplementary/expressions/#1_5372021_selected_rom_#2_\secondindex.png}
}
\newcommand{\supimagethreeindex}[2]{
  \includegraphics[width=\imagewidth, trim={0 0 0 0}, clip]{assets/\blendfieldsdirname/supplementary/expressions/#1_6795937_selected_rom_#2_\thirdindex.png}
}
\newcommand{\supimagefourindex}[2]{
  \includegraphics[width=\imagewidth, trim={0 0 0 0}, clip]{assets/\blendfieldsdirname/supplementary/expressions/#1_7889059_selected_rom_#2_\fourthindex.png}
}

\renewcommand{\versionone}{
  \begin{tikzpicture}[
      >=stealth',
      overlay/.style={
          anchor=south west,
          draw=black,
          rectangle,
          line width=0.8pt,
          outer sep=0,
          inner sep=0,
        },
    ]
    \matrix[
      matrix of nodes,
      column sep=0pt,
      row sep=0pt,
      ampersand replacement=\&,
      inner sep=0,
      outer sep=0,
      draw=black,
      rectangle,
      line width=0.5pt
    ] (gt) {
      \supimageoneindex{gt}{0}   \\
      \supimagetwoindex{gt}{0}   \\
      \supimagethreeindex{gt}{0} \\
      \supimagefourindex{gt}{0}  \\
    };

    \matrix[
      matrix of nodes,
      column sep=0pt,
      row sep=0pt,
      ampersand replacement=\&,
      inner sep=0,
      outer sep=0,
      right=0pt of gt-1-1.east,
      draw=black,
      rectangle,
      line width=0.5pt
    ] (k1) {
      \supimageoneindex{bv_aux}{0} \&
      \supimageoneindex{bv_aux}{0-1} \&
      \supimageoneindex{bv_aux}{0-1-2} \&
      \supimageoneindex{bv_aux}{0-1-2-3} \&
      \supimageoneindex{bv_aux}{0-1-2-3-4} \\
    };

    \matrix[
      matrix of nodes,
      column sep=0pt,
      row sep=0pt,
      ampersand replacement=\&,
      inner sep=0,
      outer sep=0,
      right=0pt of gt-2-1.east,
      draw=black,
      rectangle,
      line width=0.5pt
    ] (k2) {
      \supimagetwoindex{bv_aux}{0} \&
      \supimagetwoindex{bv_aux}{0-1} \&
      \supimagetwoindex{bv_aux}{0-1-2} \&
      \supimagetwoindex{bv_aux}{0-1-2-3} \&
      \supimagetwoindex{bv_aux}{0-1-2-3-4} \\
    };

    \matrix[
      matrix of nodes,
      column sep=0pt,
      row sep=0pt,
      ampersand replacement=\&,
      inner sep=0,
      outer sep=0,
      right=0pt of gt-3-1.east,
      draw=black,
      rectangle,
      line width=0.5pt
    ] (k3) {
      \supimagethreeindex{bv_aux}{0} \&
      \supimagethreeindex{bv_aux}{0-1} \&
      \supimagethreeindex{bv_aux}{0-1-2} \&
      \supimagethreeindex{bv_aux}{0-1-2-3} \&
      \supimagethreeindex{bv_aux}{0-1-2-3-4} \\
    };

    \matrix[
      matrix of nodes,
      column sep=0pt,
      row sep=0pt,
      ampersand replacement=\&,
      inner sep=0,
      outer sep=0,
      right=0pt of gt-4-1.east,
      draw=black,
      rectangle,
      line width=0.5pt
    ] (k4) {
      \supimagefourindex{bv_aux}{0} \&
      \supimagefourindex{bv_aux}{0-1} \&
      \supimagefourindex{bv_aux}{0-1-2} \&
      \supimagefourindex{bv_aux}{0-1-2-3} \&
      \supimagefourindex{bv_aux}{0-1-2-3-4} \\
    };

    \node[above=0em of gt-1-1.north, align=center, anchor=south]{Ground Truth};
    \node[above=0em of k1-1-1.north, align=center, anchor=south]{$K={1}$};
    \node[above=0em of k1-1-2.north, align=center, anchor=south]{$K={2}$};
    \node[above=0em of k1-1-3.north, align=center, anchor=south]{$K={3}$};
    \node[above=0em of k1-1-4.north, align=center, anchor=south]{$K={4}$};
    \node[above=0em of k1-1-5.north, align=center, anchor=south]{$K={5}$};

    \node[left=0em of gt-1-1.west, align=center, anchor=east]{\rotatebox{90}{\textsc{Subject} 2183941}};
    \node[above=0em of gt-2-1.west, align=center, anchor=east]{\rotatebox{90}{\textsc{Subject} 5372021}};
    \node[above=0em of gt-3-1.west, align=center, anchor=east]{\rotatebox{90}{\textsc{Subject} 6795937}};
    \node[above=0em of gt-4-1.west, align=center, anchor=east]{\rotatebox{90}{\textsc{Subject} 7889059}};
  \end{tikzpicture}
}

\begin{figure*}[htb]
  \centering
  \resizebox{\linewidth}{!}{
    \versionone
  }
  \caption{\textbf{Qualitative ablation over the number of training expressions} -- {
      We show qualitatively how the number of training expressions $\nExpr$
      affects the rendering quality.
      The first row shows the ground truth images.
      All other consecutive rows show the images rendered with \blendfields
      while increasing the number of training expressions.
      The last row, $\nExpr{=}5$ corresponds to the results presented in the
      main part of the article.
      The subject's naming follows the convention introduced in the Multiface
      repository~\cite{wuu2022multiface}.
      Please refer to~\cref{tab:blendfields-ablation-num-expressions-fix} for
      quantitative results.
    }}
  \label{fig:blendfields-qualitative-ablation-expressions}
\end{figure*}
